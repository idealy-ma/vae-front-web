{"ast":null,"code":"import _slicedToArray from\"/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState('Anjara.Joston@gmail.com'),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState('anjara'),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),wait=_useState6[0],setWait=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var navigate=useNavigate();function log(){setWait(true);fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/login\",{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({\"email\":login,\"mdp\":password})}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){setError(\"Login ou mot de passe incorrect\");}else{var data=e.data;localStorage.setItem(\"userId\",data.userId);localStorage.setItem(\"hash\",data.hash);navigate(\"/Acceuil\");}},function(e){setError(\"No connection\");});}if(wait){return/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card shadow-lg o-hidden border-0 my-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body p-0\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Login ...\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"text-dark mb-4\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Veuillez vous connecter\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:error})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{class:\"user\",method:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control form-control-user\",onChange:function onChange(e){setLogin(e.target.value);},type:\"email\",id:\"exampleInputEmail\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Email Address...\",value:login,name:\"email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control form-control-user\",onChange:function onChange(e){setPassword(e.target.value);},type:\"password\",id:\"exampleInputPassword\",value:password,placeholder:\"Password\",name:\"password\",required:true})}),/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary d-block btn-user w-100\",onClick:function onClick(e){log();},type:\"button\",children:\"Login\"})]})]})})]})})})});}else{return/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card shadow-lg o-hidden border-0 my-5\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card-body p-0\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-lg-6\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"text-dark mb-4\",children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Veuillez vous connecter\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:error})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{class:\"user\",method:\"post\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control form-control-user\",onChange:function onChange(e){setLogin(e.target.value);},type:\"email\",id:\"exampleInputEmail\",\"aria-describedby\":\"emailHelp\",placeholder:\"Enter Email Address...\",value:login,name:\"email\",required:true})}),/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{class:\"form-control form-control-user\",onChange:function onChange(e){setPassword(e.target.value);},type:\"password\",id:\"exampleInputPassword\",value:password,placeholder:\"Password\",name:\"password\",required:true})}),/*#__PURE__*/_jsx(\"div\",{class:\"mb-3\"}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-primary d-block btn-user w-100\",onClick:function onClick(e){log();},type:\"button\",children:\"Login\"})]})]})})})})})});}}","map":{"version":3,"names":["useState","useEffect","useNavigate","Login","login","setLogin","password","setPassword","wait","setWait","error","setError","navigate","log","fetch","method","headers","body","JSON","stringify","then","result","json","e","undefined","data","localStorage","setItem","userId","hash","target","value"],"sources":["/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/src/pages/Login.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport default function Login() {\n    const [login, setLogin] = useState('Anjara.Joston@gmail.com');\n    const [password, setPassword] = useState('anjara');\n    const [wait, setWait] = useState(false);\n    const [error, setError] = useState('');\n    const navigate = useNavigate();\n\n\n\n    function log() {\n        setWait(true);\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/login\",{\n            method:'POST',\n            headers:{\n                \"Content-Type\":\"application/json\"\n            },\n            body:JSON.stringify({\n                    \"email\":login,\n                    \"mdp\":password\n            })\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                setError(\"Login ou mot de passe incorrect\");\n            } else {\n                let data = e.data;\n                localStorage.setItem(\"userId\", data.userId);\n                localStorage.setItem(\"hash\", data.hash);\n                navigate(\"/Acceuil\");\n            }\n        },(e)=>{\n            setError(\"No connection\");\n        });\n    }\n    if(wait){\n        return(\n            <div class=\"container\">\n                <div class=\"card shadow-lg o-hidden border-0 my-5\">\n                    <div class=\"card-body p-0\">\n                        <div class=\"row justify-content-center\">\n                            <div className=\"text-center\">Login ...</div>\n                            <div class=\"col-lg-6\">\n                                <div class=\"p-5\">\n                                    <div class=\"text-center\">\n                                        <h4 class=\"text-dark mb-4\">Login</h4>\n                                        <p>Veuillez vous connecter</p>\n                                        <p className=\"text-center\" >{error}</p>\n                                    </div>\n                                    <br />\n                                    <form class=\"user\" method=\"post\">\n                                        <div class=\"mb-3\"><input class=\"form-control form-control-user\" onChange={(e)=>{setLogin(e.target.value)}} type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" placeholder=\"Enter Email Address...\" value={login} name=\"email\" required/></div>\n                                        <div class=\"mb-3\"><input class=\"form-control form-control-user\" onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" id=\"exampleInputPassword\" value={password} placeholder=\"Password\" name=\"password\" required/></div>\n                                        <div class=\"mb-3\">\n                                        </div><button class=\"btn btn-primary d-block btn-user w-100\" onClick={(e)=>{log()}} type=\"button\">Login</button>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    } else {\n        return(\n            <div class=\"container\">\n                <div class=\"card shadow-lg o-hidden border-0 my-5\">\n                    <div class=\"card-body p-0\">\n                        <div class=\"row justify-content-center\">\n                            <div class=\"col-lg-6\">\n                                <div class=\"p-5\">\n                                    <div class=\"text-center\">\n                                        <h4 class=\"text-dark mb-4\">Login</h4>\n                                        <p>Veuillez vous connecter</p>\n                                        <p className=\"text-center\" >{error}</p>\n                                    </div>\n                                    <br />\n                                    <form class=\"user\" method=\"post\">\n                                        <div class=\"mb-3\"><input class=\"form-control form-control-user\" onChange={(e)=>{setLogin(e.target.value)}} type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\" placeholder=\"Enter Email Address...\" value={login} name=\"email\" required/></div>\n                                        <div class=\"mb-3\"><input class=\"form-control form-control-user\" onChange={(e)=>{setPassword(e.target.value)}} type=\"password\" id=\"exampleInputPassword\" value={password} placeholder=\"Password\" name=\"password\" required/></div>\n                                        <div class=\"mb-3\">\n                                        </div><button class=\"btn btn-primary d-block btn-user w-100\" onClick={(e)=>{log()}} type=\"button\">Login</button>\n                                    </form>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n    \n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}