{"ast":null,"code":"import _slicedToArray from\"/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{CategorieItem}from\"../components/CategorieItem\";import'./EnchereItem.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function CRUDCategorie(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),nomCategorie=_useState2[0],setNomCategorie=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),listeCategorie=_useState4[0],setListeCategorie=_useState4[1];function addEnchere(){fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{method:'POST',headers:{\"Content-type\":\"application/json\",\"userId\":localStorage.getItem(\"userId\"),\"hash\":localStorage.getItem(\"hash\")},body:JSON.stringify({\"nomCategorie\":nomCategorie})}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){console.log(e.error);// setError(\"Aucun resultat\");\n}else{getListeCategorie();}},function(e){console.log(e);});}function getListeCategorie(){fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{method:'GET',headers:{\"userId\":localStorage.getItem(\"userId\"),\"hash\":localStorage.getItem(\"hash\")}}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){console.log(e.error);}else{var data=e.data;setListeCategorie(data);}},function(e){console.log(e);});}useEffect(function(){getListeCategorie();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"card shadow padding-card w-25 i-flex\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Ajout Categorie \"}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom Categorie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"nomCategorie\",onChange:function onChange(e){setNomCategorie(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{class:\"btn btn-secondary form-control\",onClick:function onClick(e){addEnchere();},type:\"button\",value:\"Inserer\"})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"card shadow padding-card w-50 i-flex\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Liste des categories \"}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-stripped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"idCategorie\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nom categorie\"})]})}),listeCategorie===null||listeCategorie===void 0?void 0:listeCategorie.map(function(value){return/*#__PURE__*/_jsx(CategorieItem,{categorie:value});})]})})]})]});}","map":{"version":3,"names":["useEffect","useState","CategorieItem","CRUDCategorie","nomCategorie","setNomCategorie","listeCategorie","setListeCategorie","addEnchere","fetch","method","headers","localStorage","getItem","body","JSON","stringify","then","result","json","e","error","undefined","console","log","getListeCategorie","data","target","value","map"],"sources":["/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/src/components/CRUDCategorie.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { CategorieItem } from \"../components/CategorieItem\";\nimport './EnchereItem.css'\n\nexport function CRUDCategorie(){\n    const [nomCategorie, setNomCategorie] = useState();\n    const [listeCategorie, setListeCategorie] = useState();\n\n    function addEnchere() {\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{\n            method:'POST',\n            headers:{\n                \"Content-type\":\"application/json\",\n                \"userId\":localStorage.getItem(\"userId\"),\n                \"hash\":localStorage.getItem(\"hash\")\n            },\n            body:JSON.stringify({\"nomCategorie\":nomCategorie})\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                console.log(e.error);\n                // setError(\"Aucun resultat\");\n            } else {\n                getListeCategorie();\n            }\n        },(e)=>{\n            console.log(e);\n        });\n    }\n\n    function getListeCategorie() {\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{\n            method:'GET',\n            headers:{\n                \"userId\":localStorage.getItem(\"userId\"),\n                \"hash\":localStorage.getItem(\"hash\")\n            },\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                console.log(e.error);\n            } else {\n                let data = e.data;\n                setListeCategorie(data);\n            }\n        },(e)=>{\n            console.log(e);\n        });\n    }\n\n    useEffect(()=>{\n        getListeCategorie();\n    },[]);\n    \n    return(\n        <div>\n            <div class=\"card shadow padding-card w-25 i-flex\">\n                <h3>Ajout Categorie </h3>\n                <div class=\"card-body\">\n                    <div>\n                        <form action=\"\">\n                            <div className=\"form-group\">\n                                <label>Nom Categorie</label>\n                                <input type=\"text\" className=\"form-control\" name=\"nomCategorie\" onChange={(e)=>{setNomCategorie(e.target.value)}}/>\n                            </div>\n                            <br />\n                            <div className=\"form-group\">\n                                <input class=\"btn btn-secondary form-control\" onClick={(e)=>{addEnchere()}} type=\"button\" value={\"Inserer\"}/>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n            <div class=\"card shadow padding-card w-50 i-flex\">\n                <h3>Liste des categories </h3>\n                <div class=\"card-body\">\n                    <table className=\"table table-stripped\">\n                    <thead>\n                        <tr>\n                            <th>idCategorie</th>\n                            <th>Nom categorie</th>\n                        </tr>\n                    </thead>\n                        { listeCategorie?.map((value)=><CategorieItem categorie={value} />)}\n                    </table>\n                </div>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}