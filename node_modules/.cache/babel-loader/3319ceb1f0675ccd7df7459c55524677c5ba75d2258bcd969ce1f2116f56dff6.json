{"ast":null,"code":"import _slicedToArray from\"/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{NavBar}from\"../components/NavBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Commission(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),comission=_useState2[0],setComission=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),nomCategorie=_useState4[0],setNomCategorie=_useState4[1];function getComission(){fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/commissions\",{method:'GET',headers:{\"userId\":localStorage.getItem(\"userId\"),\"hash\":localStorage.getItem(\"hash\")}}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){console.log(e.error);}else{var data=e.data;var i=0;data===null||data===void 0?void 0:data.map(function(value){i++;});console.log(i);setComission(data[i-1].pourcentage);// console.log(data.pourcentage);\n}},function(e){console.log(e);});}function addEnchere(){fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{method:'POST',headers:{\"Content-type\":\"application/json\",\"userId\":localStorage.getItem(\"userId\"),\"hash\":localStorage.getItem(\"hash\")},body:JSON.stringify({\"nomCategorie\":nomCategorie})}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){console.log(e.error);// setError(\"Aucun resultat\");\n}else{// getListeCategorie();\n}},function(e){console.log(e);});}function addComission(){fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/commissions\",{method:'POST',headers:{\"Content-type\":\"application/json\",\"userId\":localStorage.getItem(\"userId\"),\"hash\":localStorage.getItem(\"hash\")},body:JSON.stringify({\"pourcentage\":comission})}).then(function(result){return result.json();}).then(function(e){if(e.error!==undefined){console.log(e.error);}else{getComission();// let data = e.data;\n// // setListeCategorie(data);\n}},function(e){console.log(e);});}useEffect(function(){getComission();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",style:{marginTop:\"30px\",marginRight:\"5%\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"fw-bold text-primary\",children:\"Ajout de categorie\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Nom Categorie\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"nomCategorie\",onChange:function onChange(e){setNomCategorie(e.target.value);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{class:\"btn btn-primary form-control\",onClick:function onClick(e){addEnchere();},type:\"button\",value:\"Inserer\"})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",style:{marginTop:\"30px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h6\",{className:\"fw-bold text-primary\",children:\"Gestion de commission\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{action:\"\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Pourcentage % \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:function onChange(e){setComission(e.target.value);},value:comission})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{class:\"btn btn-primary form-control\",onClick:function onClick(e){addComission();},type:\"button\",value:\"Modifier\"})})]})})]})})]})]})]});}","map":{"version":3,"names":["useState","useEffect","NavBar","Commission","comission","setComission","nomCategorie","setNomCategorie","getComission","fetch","method","headers","localStorage","getItem","then","result","json","e","error","undefined","console","log","data","i","map","value","pourcentage","addEnchere","body","JSON","stringify","addComission","marginTop","marginRight","target"],"sources":["/home/i.m.a/Documents/Projet/Vente-au-Enchere/Vente-au-Enchere/vae-frontend-reactjs/src/pages/Commision.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { NavBar } from \"../components/NavBar\";\n\nexport default function Commission(){\n    const [comission, setComission] = useState();\n    const [nomCategorie, setNomCategorie] = useState();\n\n\n    function getComission() {\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/commissions\",{\n            method:'GET',\n            headers:{\n                \"userId\":localStorage.getItem(\"userId\"),\n                \"hash\":localStorage.getItem(\"hash\")\n            },\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                console.log(e.error);\n            } else {\n                let data = e.data;\n                let i = 0;\n                data?.map((value)=>{\n                    i++;\n                });\n                console.log(i);\n                setComission(data[i-1].pourcentage);\n                // console.log(data.pourcentage);\n            }\n        },(e)=>{\n            console.log(e);\n        });\n        \n    }\n\n    function addEnchere() {\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/categories\",{\n            method:'POST',\n            headers:{\n                \"Content-type\":\"application/json\",\n                \"userId\":localStorage.getItem(\"userId\"),\n                \"hash\":localStorage.getItem(\"hash\")\n            },\n            body:JSON.stringify({\"nomCategorie\":nomCategorie})\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                console.log(e.error);\n                // setError(\"Aucun resultat\");\n            } else {\n                // getListeCategorie();\n            }\n        },(e)=>{\n            console.log(e);\n        });\n    }\n\n    function addComission() {\n        fetch(\"https://venteauxenchere-backoffice-production.up.railway.app/commissions\",{\n            method:'POST',\n            headers:{\n                \"Content-type\":\"application/json\",\n                \"userId\":localStorage.getItem(\"userId\"),\n                \"hash\":localStorage.getItem(\"hash\")\n            },\n            body:JSON.stringify({\"pourcentage\":comission})\n        }).then((result)=>{\n            return result.json();\n        }).then((e)=>{\n            if(e.error !== undefined){\n                console.log(e.error);\n            } else {\n                getComission();\n                // let data = e.data;\n                // // setListeCategorie(data);\n            }\n        },(e)=>{\n            console.log(e);\n        });\n    }\n\n    useEffect(()=>{\n        getComission();\n    },[]);\n\n    return (\n        <div>\n            <NavBar/>\n            <div className=\"container\">\n                <h2>Configuration</h2>\n                <div className=\"row\">\n                    <div className=\"col-md-5\">\n                        <div className=\"card shadow\"  style={{marginTop:\"30px\",marginRight:\"5%\"}}>\n                            <div className=\"card-header\">\n                                <h6 className=\"fw-bold text-primary\">Ajout de categorie</h6>\n                            </div>\n                            <div className=\"card-body\">\n                                <form action=\"\">\n                                    <div className=\"form-group\">\n                                        <label>Nom Categorie</label>\n                                        <input type=\"text\" className=\"form-control\" name=\"nomCategorie\" onChange={(e)=>{setNomCategorie(e.target.value)}}/>\n                                    </div>\n                                    <br />\n                                    <div className=\"form-group\">\n                                        <input class=\"btn btn-primary form-control\" onClick={(e)=>{addEnchere()}} type=\"button\" value={\"Inserer\"}/>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"col-md-5\" style={{marginTop:\"30px\"}}>\n                        <div className=\"card shadow\">\n                            <div className=\"card-header\">\n                                <h6 className=\"fw-bold text-primary\">Gestion de commission</h6>\n                            </div>\n                            <div className=\"card-body\">\n                                <form action=\"\">\n                                    <div className=\"form-group\">\n                                        <label>Pourcentage % </label>\n                                        <input type=\"text\" className=\"form-control\" onChange={(e)=>{setComission(e.target.value)}} value={comission} />\n                                    </div>\n                                    <br />\n                                    <div className=\"form-group\">\n                                        <input class=\"btn btn-primary form-control\" onClick={(e)=>{addComission()}} type=\"button\" value={\"Modifier\"}/>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        \n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}